{% extends "base_generic.html" %}
{% block title %} Home {% endblock %}

{% block content %}
    <h1>Local Library Home</h1>
    <p>
        Welcome to LocalLibrary, a website developed by
        <em>Mozilla Developer Network</em>!
    </p>
    {% if perms.catalog.can_mark_returned %}
        <p>Permission to mark returned granted</p>
    {% else %}
        <p>Permission to mark returned not granted</p>
    {% endif %}
    <h2>Dynamic content</h2>
    <p>The library has the following record counts:</p>
    <ul>
        <li><strong>Books:</strong> {{ num_books }}</li>
        <li><strong>Copies:</strong> {{ num_instances }}</li>
        <li><strong>Copies available:</strong> {{ num_instances_available }}</li>
        <li><strong>Authors:</strong> {{ num_authors }}</li>       
    </ul>
    <p>
        You have visited this page {{ num_visits }} time{{ num_visits|pluralize }}.
    </p>
    <hr> 
    <p>By genre - {{num_genres}} total genres</p>
    <ul>
        <li><strong>Fantasy books: {{ fantasy_books_count }}</strong>
            {% for book in fantasy_books %}
            <ul>
                <li>{{book.title}}</li>
            </ul>
            {% endfor %}
        </li>
        
    </ul>


{% endblock %}